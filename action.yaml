name: nix scan
description: scans nix packages for vulnerabilities
author: trev

inputs:
  packages:
    description: nix packages to scan
    required: false
    default: ""
  token:
    description: GitHub token
    required: false
    default: "${{ github.token }}"

runs:
  using: docker
  image: docker://ghcr.io/spotdemo4/nix-scan:1.1.0
  env:
    ENV_ARGS: ${{ inputs.packages }}
    GITHUB_TOKEN: ${{ inputs.token }}
